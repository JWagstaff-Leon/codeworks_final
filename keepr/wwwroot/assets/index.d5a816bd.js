import{r as fe,c as g,a as y,o as c,b as u,d as s,e as k,w as N,F as te,f as ae,g as ge,u as D,t as b,h as j,i as A,S as oe,j as se,k as T,n as ne,l as he,p as V,m as S,q as ye,s as be,v as L,x as we,M as R,y as re,z as q,A as x,B as I,C as xe,D as ke}from"./vendor.d2861f43.js";const Ve=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const n of l.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&t(n)}).observe(document,{childList:!0,subtree:!0});function a(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function t(r){if(r.ep)return;r.ep=!0;const l=a(r);fetch(r.href,l)}};Ve();const i=fe({user:{},account:{},userVaults:null,activeKeeps:null,activeKeep:null,activeVaultkeeps:null,openModal:!1,activeProfile:null,activeVaults:null,activeVault:null,searchTerm:"",newItemIsVault:!1});var h=(o,e)=>{for(const[a,t]of e)o[a]=t;return o};const Se={name:"App",setup(){return{appState:g(()=>i),newItemIsVault:g(()=>i.newItemIsVault)}}},Ie={class:"d-flex flex-column"},Ke={key:0,class:"text-black"},Ce={key:1,class:"text-black"};function Ae(o,e,a,t,r,l){const n=y("Navbar"),_=y("router-view"),w=y("NewVaultForm"),$=y("NewKeepForm"),E=y("NewItemModal");return c(),u(te,null,[s("header",null,[k(n)]),s("main",Ie,[k(_)]),k(E,{id:"new-item-modal"},{header:N(()=>[t.newItemIsVault?(c(),u("h1",Ke,"New Vault")):(c(),u("h1",Ce,"New Keep"))]),body:N(()=>[t.newItemIsVault?(c(),ae(w,{key:0})):(c(),ae($,{key:1}))]),_:1})],64)}var Te=h(Se,[["render",Ae]]);const ie=window.location.origin.includes("localhost"),le=ie?"https://localhost:5001":"",Pe="dev-wlf420v1.us.auth0.com",$e="about:blank",Ee="D5lRqJ0bDJVlyQVzDR6XGqcpQltF6jQ5";function P(o,e){if(ie)console[o](`[${o}] :: ${new Date().toLocaleTimeString()} :: `,...e);else{switch(o){case"log":case"assert":return}console[o](`[${o}] :: ${new Date().toLocaleTimeString()} :: `,...e)}}const d={log(){P("log",arguments)},error(){P("error",arguments)},warn(){P("warn",arguments)},assert(){P("assert",arguments)},trace(){P("trace",arguments)}},m=ge.create({baseURL:le,timeout:8e3});class Ne{async getUsersByKeepId(e){const a=await m.get("api/keeps/"+e+"/vaults");d.log("[VaultkeepsService > getUsersByKeepId > response]",a.data),i.activeVaultkeeps=a.data}async create(e,a){const t=await m.post("api/vaultkeeps",{vaultId:e,keepId:a});d.log("[VaultkeepsService > create > response]",t.data),i.activeVaultkeeps.push(t.data),i.activeKeep.kept+=1}async remove(e){const a=await m.delete("api/vaultkeeps/"+e);d.log("[VaultkeepsService > remove > response]",a.data),i.activeKeeps=i.activeKeeps.filter(t=>t.id!=a.data.keepId)}}const z=new Ne;class De{async getAll(){const e=await m.get("api/keeps");d.log("[KeepsService > getAll > response]",e.data),i.activeKeeps=e.data}async getById(e){const a=await m.get("api/keeps/"+e);d.log("[KeepsService > getById > response]",a.data)}async getByProfile(e){const a=await m.get("api/profiles/"+e+"/keeps");d.log("[KeepsService > getByProfile > response]",a.data),i.activeKeeps=a.data}async getByVault(e){const a=await m.get("api/vaults/"+e+"/keeps");d.log("[KeepsService > getByVault > response]",a.data),i.activeKeeps=a.data}async create(e,a=!0){const t=await m.post("api/keeps",e);return d.log("[KeepsService > create > response]",t.data),a&&i.activeKeeps.push(t.data),t.data}async remove(e){const a=await m.delete("api/keeps/"+e);d.log("[KeepsService > remove > response]"),i.activeKeeps=i.activeKeeps.filter(t=>t.id!=a.data.id)}async setActive(e){i.openModal=!0,await z.getUsersByKeepId(e.id),await this.getById(e.id),e.views+=1,i.activeKeep=e}}const O=new De;const Oe={props:{keep:{type:Object,required:!0},isProfile:{type:Boolean,default:!1}},setup(o){const e=D();return{makeActive(){O.setActive(o.keep)},openProfile(){e.push({name:"Profile",params:{id:o.keep.creator.id}})}}}},Ue=["title"],Me=["src","alt"],Be={class:"position-absolute card-text d-flex justify-content-between align-items-end w-100 px-2"},Fe={class:"text-light m-0 fw-bold no-select"},je=["src","title"];function Le(o,e,a,t,r,l){return c(),u("div",{class:"my-3 rounded-3 position-relative action",onClick:e[1]||(e[1]=(...n)=>t.makeActive&&t.makeActive(...n)),title:`Open details for ${a.keep.name}`},[s("img",{src:a.keep.img,class:"rounded-3 elevation-4 card-image",alt:"Image of keep "+a.keep.name},null,8,Me),s("div",Be,[s("h4",Fe,b(a.keep.name),1),a.isProfile?A("",!0):(c(),u("img",{key:0,src:a.keep.creator.picture,class:"profile-image rounded-circle action",onClick:e[0]||(e[0]=j((...n)=>t.openProfile&&t.openProfile(...n),["stop"])),title:`Open ${a.keep.creator.name}'s profile`},null,8,je))])],8,Ue)}var Re=h(Oe,[["render",Le],["__scopeId","data-v-3d3a5fe6"]]),qe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Re});class f{static async confirm(e="Are you sure?",a="You won't be able to revert this!",t="warning",r="Yes, delete it!",l=!0){try{return!!(await oe.fire({title:e,text:a,icon:t,showCancelButton:l,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:r})).isConfirmed}catch{return!1}}static toast(e="Warning!",a="warning",t="top-end",r=3e3,l=!0){oe.fire({title:e,icon:a,position:t,timer:r,timerProgressBar:l,toast:!0,showConfirmButton:!1})}static error(e){var a;if(e.isAxiosError){const{response:t}=e;this.toast(((a=t.data.error)==null?void 0:a.message)||t.data.message,"error")}else this.toast(e.message||e,"error")}static success(e="Success!"){this.toast(e,"success")}}var ze="/assets/Kept.5afb2b69.svg";const He={setup(){const o=g(()=>i.activeKeep),e=()=>{i.openModal=!1,setTimeout(()=>{i.activeKeep=null,i.activeVaultkeeps=null},150)},a=D(),t=se();return{activeKeep:o,route:t,activeVaultkeeps:g(()=>i.activeVaultkeeps),userAuthenticated:g(()=>i.user.isAuthenticated),isUsersKeep:g(()=>{var r;return i.account.id===((r=i.activeKeep)==null?void 0:r.creator.id)}),isUsersVault:g(()=>{var r,l;return((r=i.activeVault)==null?void 0:r.creatorId)==((l=i.account)==null?void 0:l.id)}),userVaults:g(()=>i.userVaults),clearActive:e,async deleteKeep(){var r;try{await f.confirm()&&(await O.remove((r=o.value)==null?void 0:r.id),f.toast("Keep successfully deleted","success"),e())}catch(l){d.error("[error prefix]",l.message),f.toast(l.message,"error")}},async addToVault(r,l){var n,_;l&&(d.log("--------------------"),d.log("vaultId:",r),d.log("keepId:",(n=o.value)==null?void 0:n.id),await z.create(r,(_=o.value)==null?void 0:_.id),f.toast("Successfully added to vault","success"))},openProfile(){setTimeout(()=>{var r;a.push({name:"Profile",params:{id:(r=o.value)==null?void 0:r.creator.id}})},150),e()},async removeFromVault(){var r;try{await f.confirm()&&(await z.remove((r=o.value)==null?void 0:r.vaultKeepId),f.toast("Keep successfully removed from vault","success"),e())}catch(l){d.error("[KeepModal.vue > removeFromVault]",l.message),f.toast(l.message,"error")}}}}},U=o=>(V("data-v-45243e7a"),o=o(),S(),o),Ye={class:"modal fade","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1"},Ge={class:"modal-dialog modal-xl modal-dialog-centered"},We={class:"modal-content"},Qe={key:0,class:"w-100 d-flex flex-column"},Je=U(()=>s("div",{class:"spinner-border text-secondary align-self-center"},null,-1)),Xe={key:1,class:"modal-body d-flex p-2 p-xl-3"},Ze={class:"w-50 d-flex align-items-center justify-content-center"},et=["src"],tt={class:"w-50 d-flex flex-column align-items-center"},at={class:"d-flex justify-content-center px-0 px-xl-5"},ot=["title"],st=U(()=>s("i",{class:"mdi mdi-eye text-primary me-1"},null,-1)),nt=["title"],rt=U(()=>s("img",{src:ze,class:"me-1"},null,-1)),it={class:"mt-4 text-dark px-1 px-xl-5"},lt={class:"text-secondary mt-1 mt-xl-4 fs-6 text-start align-self-start mx-2 mx-xl-5 flex-grow-1 px-1 px-xl-5"},ct={key:0,class:"order-2 order-xl-1"},dt={key:0,class:"my-2 my-xl-0"},ut={key:1,class:"dropdown my-2 my-lg-0"},mt=U(()=>s("button",{class:"btn btn-outline-primary fw-bold dropdown-toggle","data-bs-toggle":"dropdown"},"ADD TO VAULT",-1)),_t={class:"dropdown-menu"},pt=["title","onClick"],vt=["title"],ft=["src"],gt={class:"text-black ms-3 no-select"};function ht(o,e,a,t,r,l){var n,_,w,$,E,Y,G,W,Q,J,X,Z,ee;return c(),u("div",Ye,[s("div",Ge,[s("div",We,[!t.activeKeep&&!t.activeVaultkeeps?(c(),u("div",Qe,[s("button",{type:"button",class:"btn-close align-self-end mt-2 me-2","data-bs-dismiss":"modal","aria-label":"Close",onClick:e[0]||(e[0]=(...p)=>t.clearActive&&t.clearActive(...p))}),Je])):(c(),u("div",Xe,[s("div",Ze,[s("img",{src:(n=t.activeKeep)==null?void 0:n.img,class:"img-fluid"},null,8,et)]),s("div",tt,[s("button",{type:"button",class:"btn-close align-self-end","data-bs-dismiss":"modal","aria-label":"Close",onClick:e[1]||(e[1]=(...p)=>t.clearActive&&t.clearActive(...p))}),s("div",at,[s("span",{class:"mx-2 text-secondary fs-5 no-select",title:`Viewed ${(_=t.activeKeep)==null?void 0:_.views} time${((w=t.activeKeep)==null?void 0:w.views)==1?"":"s"}`},[st,T(b(($=t.activeKeep)==null?void 0:$.views),1)],8,ot),s("span",{class:"mx-2 text-secondary fs-5 no-select",title:`Kept in ${(E=t.activeKeep)==null?void 0:E.kept} vault${((Y=t.activeKeep)==null?void 0:Y.kept)==1?"":"s"}`},[rt,T(b((G=t.activeKeep)==null?void 0:G.kept),1)],8,nt)]),s("h3",it,b((W=t.activeKeep)==null?void 0:W.name),1),s("p",lt,b((Q=t.activeKeep)==null?void 0:Q.description),1),s("div",{class:ne(["d-flex flex-column flex-xl-row align-items-center w-100 px-5",{"justify-content-between":t.userAuthenticated,"justify-content-end":!t.userAuthenticated}])},[t.userAuthenticated?(c(),u("div",ct,[((J=t.activeKeep)==null?void 0:J.vaultKeepId)&&t.isUsersVault?(c(),u("div",dt,[s("button",{class:"btn btn-outline-secondary",onClick:e[2]||(e[2]=(...p)=>t.removeFromVault&&t.removeFromVault(...p))},"Remove from vault")])):(c(),u("div",ut,[mt,s("ul",_t,[(c(!0),u(te,null,he(t.userVaults,p=>(c(),u("li",{key:p.id,class:ne(["no-select",{"selectable text-black":!t.activeVaultkeeps.find(K=>K.vaultId==p.id),"no-add text-secondary":t.activeVaultkeeps.find(K=>K.vaultId==p.id)}]),title:t.activeVaultkeeps.find(K=>K.vaultId==p.id)?"Keep is already in this vault":"",onClick:K=>t.addToVault(p.id,!t.activeVaultkeeps.find(ve=>ve.vaultId==p.id))},b(p.name),11,pt))),128))])]))])):A("",!0),t.isUsersKeep?(c(),u("i",{key:1,class:"mdi mdi-delete-outline text-secondary delete-keep-button action fs-1 order-3 order-xl-2",onClick:e[3]||(e[3]=(...p)=>t.deleteKeep&&t.deleteKeep(...p))})):A("",!0),s("div",{class:"d-flex align-items-end selectable p-1 order-1 order-xl-3 my-2 my-lg-0",onClick:e[4]||(e[4]=(...p)=>t.openProfile&&t.openProfile(...p)),title:`Open ${(X=t.activeKeep)==null?void 0:X.creator.name}'s profile`},[s("img",{src:(Z=t.activeKeep)==null?void 0:Z.creator.picture,class:"profile-image rounded-2"},null,8,ft),s("h5",gt,b((ee=t.activeKeep)==null?void 0:ee.creator.name),1)],8,vt)],2)])]))])])])}var yt=h(He,[["render",ht],["__scopeId","data-v-45243e7a"]]),bt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yt});const wt="modulepreload",ce={},xt="/",M=function(e,a){return!a||a.length===0?e():Promise.all(a.map(t=>{if(t=`${xt}${t}`,t in ce)return;ce[t]=!0;const r=t.endsWith(".css"),l=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${l}`))return;const n=document.createElement("link");if(n.rel=r?"stylesheet":wt,r||(n.as="script",n.crossOrigin=""),n.href=t,document.head.appendChild(n),r)return new Promise((_,w)=>{n.addEventListener("load",_),n.addEventListener("error",w)})})).then(()=>e())};function kt(o){switch(o){case"./pages/AboutPage.vue":return M(()=>import("./AboutPage.6a6c7588.js"),["assets/AboutPage.6a6c7588.js","assets/vendor.d2861f43.js"]);case"./pages/HomePage.vue":return M(()=>import("./HomePage.5b57f448.js"),["assets/HomePage.5b57f448.js","assets/HomePage.dc844ede.css","assets/vendor.d2861f43.js"]);case"./pages/Profile.vue":return M(()=>import("./Profile.0a11de04.js"),["assets/Profile.0a11de04.js","assets/Profile.08e4bedb.css","assets/vendor.d2861f43.js","assets/Loader.7531e362.js"]);case"./pages/Vault.vue":return M(()=>import("./Vault.75512ae8.js"),["assets/Vault.75512ae8.js","assets/Vault.b7f74540.css","assets/vendor.d2861f43.js","assets/Loader.7531e362.js"]);default:return new Promise(function(e,a){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+o)))})}}function H(o){return()=>kt(`./pages/${o}.vue`)}const Vt=[{path:"/",name:"Home",component:H("HomePage"),beforeEnter:L},{path:"/profile/:id",name:"Profile",component:H("Profile"),beforeEnter:L},{path:"/vault/:id",name:"Vault",component:H("Vault"),beforeEnter:L}],de=ye({linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",history:be(),routes:Vt});class St{async getAccount(){try{const e=await m.get("/account");i.account=e.data}catch(e){d.error("HAVE YOU STARTED YOUR SERVER YET???",e)}}}const It=new St,Kt={connection:"connection",connected:"connected",disconnect:"disconnect",authenticate:"authenticate",authenticated:"authenticated",userConnected:"userConnected",userDisconnected:"userDisconnected",error:"error"};class Ct{constructor(e=!1,a=le){}on(e,a){var t;return(t=this.socket)==null||t.on(e,a.bind(this)),this}onConnected(e){d.log("[SOCKET_CONNECTION]",e),this.connected=!0,this.playback()}onAuthenticated(e){d.log("[SOCKET_AUTHENTICATED]",e),this.authenticated=!0,this.playback()}authenticate(e){var a;(a=this.socket)==null||a.emit(Kt.authenticate,e)}onError(e){d.error("[SOCKET_ERROR]",e)}enqueue(e,a){d.log("[ENQUEING_ACTION]",{action:e,payload:a}),this.queue.push({action:e,payload:a})}playback(){d.log("[SOCKET_PLAYBACK]");const e=[...this.queue];this.queue=[],e.forEach(a=>{this.emit(a.action,a.payload)})}emit(e,a=void 0){if(this.requiresAuth&&!this.authenticated)return this.enqueue(e,a);if(!this.connected)return this.enqueue(e,a);this.socket.emit(e,a)}}class At extends Ct{constructor(){super();this.on("error",this.onError)}onError(e){f.toast(e.message,"error")}}const ue=new At;class Tt{async getUserVaults(){const e=await m.get("account/vaults");d.log("[VaultsService > getUserVaults > response]",e.data),i.userVaults=e.data}async getById(e){const a=await m.get("api/vaults/"+e);d.log("[VaultsService > getById > response]",a.data),i.activeVault=a.data}async getByProfile(e){const a=await m.get("api/profiles/"+e+"/vaults");d.log("[VaultsService > getByProfile > response]",a.data),i.activeVaults=a.data}async create(e){const a=await m.post("api/vaults",e);return d.log("[VaultsService > create > response]",a.data),i.userVaults.push(a.data),a.data.id}async remove(e){const a=await m.delete("api/vaults/"+e);d.log("[VaultsService > remove > response]",a.data),i.userVaults=i.userVaults.filter(t=>t.id!==a.data.id)}}const me=new Tt,v=we({domain:Pe,clientId:Ee,audience:$e,useRefreshTokens:!0,onRedirectCallback:o=>{de.push(o&&o.targetUrl?o.targetUrl:window.location.pathname)}});v.on(v.AUTH_EVENTS.AUTHENTICATED,async function(){m.defaults.headers.authorization=v.bearer,m.interceptors.request.use(Pt),i.user=v.user,await It.getAccount(),ue.authenticate(v.bearer),me.getUserVaults()});async function Pt(o){if(!v.isAuthenticated)return o;const e=v.identity.exp*1e3,a=e<Date.now(),t=e<Date.now()+1e3*60*60*12;return a?await v.loginWithPopup():t&&(await v.getTokenSilently(),m.defaults.headers.authorization=v.bearer,ue.authenticate(v.bearer)),o}const $t={setup(){return{user:g(()=>i.user),account:g(()=>i.account),async login(){v.loginWithPopup()},async logout(){v.logout({returnTo:window.location.origin})},newItemModal(o){i.newItemIsVault=o,R.getOrCreateInstance(document.getElementById("new-item-modal")).show()}}}},B=o=>(V("data-v-14b417f0"),o=o(),S(),o),Et={class:"navbar-text"},Nt={key:1,class:"dropdown my-2 my-lg-0"},Dt={class:"dropdown-toggle selectable bg-secondary text-light rounded","data-bs-toggle":"dropdown","aria-expanded":"false",id:"authDropdown"},Ot={key:0},Ut=["src"],Mt={class:"mx-3 text-white fs-6 d-none d-md-inline"},Bt={class:"dropdown-menu p-0 list-group w-100","aria-labelledby":"authDropdown"},Ft=B(()=>s("i",{class:"mdi mdi-plus text-primary"},null,-1)),jt=T(" New Vault "),Lt=[Ft,jt],Rt=B(()=>s("i",{class:"mdi mdi-plus text-primary"},null,-1)),qt=T(" New Keep "),zt=[Rt,qt],Ht=B(()=>s("div",{class:"list-group-item list-group-item-action hoverable text-secondary"}," Go to my profile ",-1)),Yt=B(()=>s("i",{class:"mdi mdi-logout"},null,-1)),Gt=T(" logout "),Wt=[Yt,Gt];function Qt(o,e,a,t,r,l){const n=y("router-link");return c(),u("span",Et,[t.user.isAuthenticated?(c(),u("div",Nt,[s("div",Dt,[t.account.picture?(c(),u("div",Ot,[s("img",{src:t.account.picture,alt:"account photo",height:"40",class:"rounded"},null,8,Ut),s("span",Mt,b(t.account.name),1)])):A("",!0)]),s("div",Bt,[s("div",{class:"list-group-item list-group-item-action hoverable",onClick:e[1]||(e[1]=_=>t.newItemModal(!0))},Lt),s("div",{class:"list-group-item list-group-item-action hoverable",onClick:e[2]||(e[2]=_=>t.newItemModal(!1))},zt),k(n,{to:{name:"Profile",params:{id:t.account.id}}},{default:N(()=>[Ht]),_:1},8,["to"]),s("div",{class:"list-group-item list-group-item-action hoverable text-danger",onClick:e[3]||(e[3]=(..._)=>t.logout&&t.logout(..._))},Wt)])])):(c(),u("button",{key:0,class:"btn selectable text-seconary darken-20 fs-5 text-uppercase my-2 my-lg-0",onClick:e[0]||(e[0]=(..._)=>t.login&&t.login(..._))}," Login "))])}var Jt=h($t,[["render",Qt],["__scopeId","data-v-14b417f0"]]),Xt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Jt}),Zt="/assets/Logo.2571556e.svg";const ea={setup(){return{}}},ta=o=>(V("data-v-179c1f58"),o=o(),S(),o),aa={class:"navbar navbar-expand-lg navbar-dark bg-primary px-3 justify-content-between flex-nowrap"},oa=ta(()=>s("div",{class:"d-flex flex-column align-items-center"},[s("img",{alt:"logo",src:Zt,height:"45"})],-1));function sa(o,e,a,t,r,l){const n=y("router-link"),_=y("Search"),w=y("Login");return c(),u("nav",aa,[k(n,{class:"navbar-brand d-flex",to:{name:"Home"}},{default:N(()=>[oa]),_:1}),k(_,{class:"flex-grow-1"}),k(w,{class:"ms-3"})])}var na=h(ea,[["render",sa],["__scopeId","data-v-179c1f58"]]),ra=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:na});const ia={setup(){return{}}},la=o=>(V("data-v-27329a73"),o=o(),S(),o),ca={class:"modal fade","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1"},da={class:"modal-dialog modal-dialog-centered"},ua={class:"modal-content"},ma={class:"modal-header ms-2"},_a=la(()=>s("i",{role:"button",class:"mdi mdi-close mdi-24px text-danger","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),pa={class:"modal-body mx-2"};function va(o,e,a,t,r,l){return c(),u("div",ca,[s("div",da,[s("div",ua,[s("div",ma,[re(o.$slots,"header",{},void 0,!0),_a]),s("div",pa,[re(o.$slots,"body",{},void 0,!0)])])])])}var fa=h(ia,[["render",va],["__scopeId","data-v-27329a73"]]),ga=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:fa});const ha={setup(){const o=q({}),e=se();return{newData:o,async submitForm(){try{const a=e.name=="Home"||e.name=="Profile"&&e.params.id==i.account.id,t=await O.create(o.value,a);R.getOrCreateInstance(document.getElementById("new-item-modal")).hide(),O.setActive(t),f.toast("Keep successfully created","success"),o.value={}}catch(a){d.error("[NewKeepForm.vue > submitForm]",a.message),f.toast(a.message,"error")}}}}},F=o=>(V("data-v-2c29e1a9"),o=o(),S(),o),ya=F(()=>s("label",{for:"new-keep-title"},"Title",-1)),ba=F(()=>s("label",{for:"new-keep-image"},"Image Url",-1)),wa=F(()=>s("label",{for:"new-keep-description"},"Description",-1)),xa=F(()=>s("button",{class:"btn btn-primary align-self-end px-3 py-1",type:"submit"},"Create",-1));function ka(o,e,a,t,r,l){return c(),u("form",{onSubmit:e[3]||(e[3]=j((...n)=>t.submitForm&&t.submitForm(...n),["prevent"])),class:"d-flex flex-column"},[ya,x(s("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>t.newData.name=n),name:"new-keep-title",class:"form-control mb-3",type:"text",required:"",placeholder:"New Keep Title"},null,512),[[I,t.newData.name]]),ba,x(s("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>t.newData.img=n),name:"new-keep-image",class:"form-control mb-3",type:"url",required:"",placeholder:"New Keep Image URL"},null,512),[[I,t.newData.img]]),wa,x(s("textarea",{"onUpdate:modelValue":e[2]||(e[2]=n=>t.newData.description=n),name:"new-keep-description",class:"form-control mb-3",required:"",placeholder:"New Keep Description"},null,512),[[I,t.newData.description]]),xa],32)}var Va=h(ha,[["render",ka],["__scopeId","data-v-2c29e1a9"]]),Sa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Va});const Ia={setup(){const o=q({isPrivate:!1}),e=D();return{newData:o,async submitForm(){try{const a=await me.create(o.value);R.getOrCreateInstance(document.getElementById("new-item-modal")).hide(),e.push({name:"Vault",params:{id:a}}),f.toast("Vault successfully created","success"),o.value={isPrivate:!1}}catch(a){d.error("[NewVaultForm.vue > submitForm]",a.message),f.toast(a.message,"error")}}}}},C=o=>(V("data-v-1e494baa"),o=o(),S(),o),Ka=C(()=>s("label",{for:"new-vault-title"},"Title",-1)),Ca=C(()=>s("label",{for:"new-vault-image"},"Image Url",-1)),Aa=C(()=>s("label",{for:"new-vault-description"},"Description",-1)),Ta={class:"d-flex"},Pa=C(()=>s("label",{for:"new-vault-private",class:"ms-1"},"Private?",-1)),$a=C(()=>s("small",{class:"text-secondary"},"Private Vaults can only be seen by you",-1)),Ea=C(()=>s("button",{class:"btn btn-primary align-self-end px-3 py-1",type:"submit"},"Create",-1));function Na(o,e,a,t,r,l){return c(),u("form",{onSubmit:e[4]||(e[4]=j((...n)=>t.submitForm&&t.submitForm(...n),["prevent"])),class:"d-flex flex-column"},[Ka,x(s("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>t.newData.name=n),name:"new-vault-title",class:"form-control mb-3",type:"text",required:"",placeholder:"New Vault Title"},null,512),[[I,t.newData.name]]),Ca,x(s("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>t.newData.img=n),name:"new-vault-image",class:"form-control mb-3",type:"url",required:"",placeholder:"New Vault Image URL"},null,512),[[I,t.newData.img]]),Aa,x(s("textarea",{"onUpdate:modelValue":e[2]||(e[2]=n=>t.newData.description=n),name:"new-vault-description",class:"form-control mb-3",required:"",placeholder:"New Vault Description"},null,512),[[I,t.newData.description]]),s("div",Ta,[x(s("input",{"onUpdate:modelValue":e[3]||(e[3]=n=>t.newData.isPrivate=n),type:"checkbox",name:"new-vault-private"},null,512),[[xe,t.newData.isPrivate]]),Pa]),$a,Ea],32)}var Da=h(Ia,[["render",Na],["__scopeId","data-v-1e494baa"]]),Oa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Da});const Ua={setup(){const o=q("");return{searchTerm:o,changeSearch(){i.searchTerm=o.value}}}},_e=o=>(V("data-v-01d694fe"),o=o(),S(),o),Ma={class:"d-flex justify-content-center"},Ba=_e(()=>s("label",{for:"search-bar",class:"visually-hidden"},"Search",-1)),Fa={class:"input-group"},ja=_e(()=>s("span",{class:"input-group-text"},[s("i",{class:"mdi mdi-magnify mdi-18px text-primary"})],-1));function La(o,e,a,t,r,l){return c(),u("div",Ma,[Ba,s("div",Fa,[x(s("input",{name:"serach-bar",type:"text",placeholder:"Search",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=n=>t.searchTerm=n),onInput:e[1]||(e[1]=(...n)=>t.changeSearch&&t.changeSearch(...n)),onFocus:e[2]||(e[2]=(...n)=>t.changeSearch&&t.changeSearch(...n))},null,544),[[I,t.searchTerm]]),ja])])}var Ra=h(Ua,[["render",La],["__scopeId","data-v-01d694fe"]]),qa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ra});const za={props:{vault:{type:Object,required:!0}},setup(o){const e=D();return{openVault(){e.push({name:"Vault",params:{id:o.vault.id}})}}}},Ha=["title"],Ya=["src","alt"],Ga={class:"position-absolute card-text w-100 px-2"},Wa={class:"text-light m-0 fw-bold no-select"},Qa={key:0,class:"position-absolute private-icon text-warning mdi mdi-lock"};function Ja(o,e,a,t,r,l){return c(),u("div",{class:"my-2 mx-3 rounded-3 position-relative action vault-card",onClick:e[0]||(e[0]=(...n)=>t.openVault&&t.openVault(...n)),title:`Go to vault ${a.vault.name}`},[s("img",{src:a.vault.img,class:"rounded-3 elevation-4 card-image",alt:"Image of vault "+a.vault.name},null,8,Ya),s("div",Ga,[s("h4",Wa,b(a.vault.name),1)]),a.vault.isPrivate?(c(),u("i",Qa)):A("",!0)],8,Ha)}var Xa=h(za,[["render",Ja],["__scopeId","data-v-58a70152"]]),Za=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Xa});function eo(o){Object.entries({"./components/KeepCard.vue":qe,"./components/KeepModal.vue":bt,"./components/Login.vue":Xt,"./components/Navbar.vue":ra,"./components/NewItemModal.vue":ga,"./components/NewKeepForm.vue":Sa,"./components/NewVaultForm.vue":Oa,"./components/Search.vue":qa,"./components/VaultCard.vue":Za}).forEach(([a,t])=>{const r=t.name||a.substr(a.lastIndexOf("/")+1).replace(/\.\w+$/,"");o.component(r,t.default)})}const pe=ke(Te);eo(pe);pe.use(de).mount("#app");export{i as A,f as P,h as _,m as a,O as k,d as l,me as v};
